# pet_walk

Данное API написано в рамках тестового задания.
Вот копия текста [задания](https://docs.google.com/document/d/1B5xeZdh22Bt0ttfNqXN7EmEsYVZJZvi7TkARKFrOqII/edit?usp=sharing).

### Реализован следующий функционал: 
- стандартный функционал регистрации, авторизации и дальнейшей идентификации пользователя по токену.

- функционал для записи и удаления животных в учетную запись пользователя (при желании можно слегка доработать, чтобы добавлять более одного животного).

- функционал для автоматической генерации времени записи с выбранной даты на произвольное кол-во дней (дни с текущего и ранее, а также дни, на которые уже создана хоть одна запись, пропускаются)

- разделен функционал поиска свободных слотов по дате и времени. Дату возвращает при наличии хотя бы одного свободного слота на нее, в случае со слотами показывает лишь те, что еще не заняты.

- создание заказа записывает определенное животное на определенный временной слот. В заказе хранятся номер комнаты, кличка и вид питомца, дата, время, id исполнителя заказа и id заказчика.

- функционал для отображения заказов на дату просто покажет все заказы на конкретного сотрудника на выбранную дату.

### Запуск проекта

    1. Для работы проекта необходимо создать базу на Postgres, 
    подключится к ней и выполнить команду `CREATE EXTENSION IF NOT EXISTS "uuid-ossp";`
    
    2. Копируем проект и устанавливаем зависимости через `pip install -r requirements.txt`
    
    3. После этого прописываем параметры для подключения к бд в файле `db.py`
    
    4. Следующим шагом запускаем выполнение файла `main.py`.
    Если все зависимости и настройки сделаны верно, то это создаст все необходимые таблицы в базе данных.
    
    5. Запукаем приложение командой `uvicorn main:app --reload --workers 4 --host 0.0.0.0 --port 8000`

Автозаполнение базы данными не реализованно.

Из минусов: для выдачи статуса админа надо будет вручную подключиться к базе и поменять поле `is_admin`.